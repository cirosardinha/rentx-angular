<app-header></app-header>

<main class="flex-1 flex justify-center items-start bg-gray-950 py-12 px-6">
  @if(user$ | async; as user) {
  <div
    class="bg-gray-900 rounded-3xl shadow-2xl w-full max-w-3xl p-8 flex flex-col md:flex-row items-center md:items-start gap-12">

    <div class="relative flex-shrink-0">
      <div
        class="w-36 h-36 rounded-full overflow-hidden border-4 border-gray-800 shadow-xl flex items-center justify-center">
        @if(!user.avatarUrl) {
        <span class="text-gray-500 text-lg">Foto</span>
        } @else {
        <img [src]="user.avatarUrl" class="w-full h-full object-cover" />
        }
      </div>
      <button
        class="absolute bottom-2 right-2 bg-orange-400 hover:bg-orange-500 text-white rounded-full p-3 shadow-md transition-colors"
        (click)="onChangeAvatar()" title="Alterar foto">
        ✎
      </button>
    </div>

    <div class="flex-1 flex flex-col justify-start text-gray-400">
      <h2 class="text-3xl text-gray-200 font-bold mb-2">{{ user.name }}</h2>
      <p class=" mb-1">{{ user.email }}</p>
      @if(user.driver_license) {
      <p>CNH: {{ user.driver_license }}</p>
      }
    </div>

  </div>
  }
</main>